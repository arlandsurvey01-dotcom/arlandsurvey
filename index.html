<!DOCTYPE html>
<html>
<head>
<title>IDEAL LAND CARE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

<style>
body{
margin:0;
font-family:Arial;
background:white;
}

.header{
background:#0a3d91;
color:white;
padding:15px 30px;
display:flex;
justify-content:space-between;
align-items:center;
}

.header h1{
margin:0;
font-size:24px;
}

button{
padding:8px 12px;
background:#0a3d91;
color:white;
border:none;
cursor:pointer;
margin:5px 0;
}

.container{
padding:30px;
}

#calendar{
max-width:900px;
margin:auto;
}

.box{
background:#f5f5f5;
padding:15px;
margin-top:20px;
}

input{
padding:8px;
margin:5px 0;
width:100%;
}

.admin{
display:none;
}

footer{
background:#0a3d91;
color:white;
text-align:center;
padding:15px;
margin-top:20px;
}
</style>
</head>

<body>

<div class="header">
<h1>IDEAL LAND CARE</h1>
<button onclick="toggleLang()">বাংলা</button>
</div>

<div class="container">

<h2 id="title">Survey Booking Calendar</h2>

<div id="calendar"></div>

<div class="box">
<h3>Book Selected Date</h3>
<input type="text" id="name" placeholder="Your Name">
<input type="text" id="mobile" placeholder="Mobile Number">
<input type="text" id="village" placeholder="Village">
<input type="text" id="post" placeholder="Post Office">
<input type="hidden" id="selectedDate">
<button onclick="bookDate()">Confirm Booking</button>
</div>

<div class="box">
<h3>Google Map Location</h3>
<iframe
src="https://www.google.com/maps?q=Aurangabad,Murshidabad&output=embed"
width="100%"
height="200"
style="border:0;">
</iframe>
</div>

<div class="box">
<button onclick="adminLogin()">Admin Login</button>
<div class="admin" id="adminPanel">
<h3>Dashboard</h3>
<p>Total Bookings: <span id="total"></span></p>
<p>Today Bookings: <span id="today"></span></p>
<p>This Month Bookings: <span id="month"></span></p>
</div>
</div>

</div>

<footer>
Murshidabad | Aurangabad | Suti<br>
© 2026 IDEAL LAND CARE
</footer>

<script>

let bookings = JSON.parse(localStorage.getItem("bookings")) || [];

document.addEventListener('DOMContentLoaded', function() {

var calendarEl = document.getElementById('calendar');
var calendar = new FullCalendar.Calendar(calendarEl, {
initialView: 'dayGridMonth',
dateClick: function(info) {
document.getElementById("selectedDate").value = info.dateStr;
alert("Selected: " + info.dateStr);
},
events: bookings.map(b => ({
title: "Booked",
start: b.date,
color: "red"
}))
});
calendar.render();

});

function bookDate(){
let date = document.getElementById("selectedDate").value;
let name = document.getElementById("name").value;
let mobile = document.getElementById("mobile").value;

if(!date || !name || !mobile){
alert("Fill required fields");
return;
}

if(bookings.some(b => b.date === date)){
alert("Date already booked");
return;
}

bookings.push({
date: date,
name: name,
mobile: mobile,
time: new Date()
});

localStorage.setItem("bookings", JSON.stringify(bookings));
alert("Booking Successful");
location.reload();
}

function adminLogin(){
let pass = prompt("Enter Admin Password");
if(pass === "1234"){
document.getElementById("adminPanel").style.display="block";
updateDashboard();
}else{
alert("Wrong Password");
}
}

function updateDashboard(){
let total = bookings.length;

let todayDate = new Date().toISOString().split("T")[0];
let today = bookings.filter(b => b.date === todayDate).length;

let month = new Date().getMonth();
let monthCount = bookings.filter(b => new Date(b.time).getMonth() === month).length;

document.getElementById("total").innerText = total;
document.getElementById("today").innerText = today;
document.getElementById("month").innerText = monthCount;
}

let bengali = false;

function toggleLang(){
bengali = !bengali;
if(bengali){
document.getElementById("title").innerText="সার্ভে বুকিং ক্যালেন্ডার";
}else{
document.getElementById("title").innerText="Survey Booking Calendar";
}
}

</script>

</body>
</html>
